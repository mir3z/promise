!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Promise",[],n):"object"==typeof exports?exports.Promise=n():t.Promise=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){function i(t){function n(t,o){if(t===o)e(t,s,new TypeError);else if(o instanceof i)o.state===u?o.then(n.bind(null,t),e.bind(null,t,s)):e(t,o.state,o.value);else if(o&&(r.isFunction(o)||r.isObject(o))){var f=!1;try{var l=o.then;r.isFunction(l)?l.call(o,function(e){f||n(t,e),f=!0},function(n){f||e(t,s,n),f=!0}):e(t,c,o)}catch(a){f||e(t,s,a),f=!0}}else e(t,c,o)}function e(t,n,e){t.state===n||t.state!==u||n!==c&&n!==s||(t.value=e,t.state=n,o(t))}function o(t){r.defer(function(){if(t.state!==u)for(;f.length;){var i=f.shift();try{var o=t.state===c?i.fulfill||r.identity():i.reject||r.throwErr();n(t,o(t.value))}catch(l){e(t,s,l)}}})}var u=0,c=1,s=2,f=[];this.state=u,this.value=null,this.then=function(t,n){var e=this;return new i(function(i,o){return e.done(function(n){var e=r.isFunction(t)?t:r.identity();try{return i(e(n))}catch(u){return o(u)}},function(t){var e=r.isFunction(n)?n:r.throwErr();try{return i(e(t))}catch(u){return o(u)}})})},this.done=function(t,n){f.push({fulfill:r.isFunction(t)?t:null,reject:r.isFunction(n)?n:null}),o(this)},this.reject=function(t){e(this,s,t)},this.resolve=function(t){n(this,t)},r.isFunction(t)&&t(n.bind(null,this),e.bind(null,this,s))}var r=e(1);t.exports=i},function(t,n){t.exports={isFunction:function(t){return"function"==typeof t},isObject:function(t){return"object"==typeof t},defer:function(t){setTimeout(t,0)},identity:function(){return function(t){return t}},throwErr:function(){return function(t){throw t}}}}])});